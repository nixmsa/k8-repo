29. Create a Pod with three busy box containers with commands “ls; sleep 3600;”, “echo Hello World; sleep 3600;” and “echo this is the third container; sleep 3600” respectively and check the status

mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$ kubectl run busybox3 --image=busybox:1.28 --restart=Never --dry-run -o yaml -- bin/sh -c "sleep 3600; ls" > multi-container.yaml
W0926 17:01:51.656751  156447 helpers.go:535] --dry-run is deprecated and can be replaced with --dry-run=client.
mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$


mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$ kubectl create -f multi-container.yaml
pod/busybox3 created
mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$ kubectl get pods;
NAME       READY   STATUS    RESTARTS   AGE
busybox3   3/3     Running   0          7s
mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$ kubectl describe pod busybox3
Name:         busybox3
Namespace:    default
Priority:     0
Node:         k8s-node-1.example.com/192.168.0.42
Start Time:   Sat, 26 Sep 2020 17:13:19 +0000
Labels:       run=busybox3
Annotations:  cni.projectcalico.org/podIP: 172.16.122.81/32
              cni.projectcalico.org/podIPs: 172.16.122.81/32
Status:       Running
IP:           172.16.122.81
IPs:
  IP:  172.16.122.81
Containers:
  busybox1:
    Container ID:  docker://4a96663db65977e97a9c799a7834db28b8552d3d35d4c8f87e47a16f27a12fad
    Image:         busybox:1.28
    Image ID:      docker-pullable://busybox@sha256:141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47
    Port:          <none>
    Host Port:     <none>
    Args:
      bin/sh
      -c
      sleep 3600; ls
    State:          Running
      Started:      Sat, 26 Sep 2020 17:13:22 +0000
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-ml2mr (ro)
  busybox2:
    Container ID:  docker://480f5ec93a1bf75723eae066bbb5685ad4f8b1cd8c43c001bb99d35cd3061ba3
    Image:         busybox:1.28
    Image ID:      docker-pullable://busybox@sha256:141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47
    Port:          <none>
    Host Port:     <none>
    Args:
      bin/sh
      -c
      sleep 3600; echo "Hello Word";
    State:          Running
      Started:      Sat, 26 Sep 2020 17:13:22 +0000
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-ml2mr (ro)
  busybox3:
    Container ID:  docker://7e66a7f0dd7d124589869daadb987fd16c18dc41e7eb69ab110779f89655320a
    Image:         busybox:1.28
    Image ID:      docker-pullable://busybox@sha256:141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47
    Port:          <none>
    Host Port:     <none>
    Args:
      bin/sh
      -c
      sleep 3600; echo "this is the third pod";
    State:          Running
      Started:      Sat, 26 Sep 2020 17:13:23 +0000
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-ml2mr (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  default-token-ml2mr:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-ml2mr
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason     Age   From                             Message
  ----    ------     ----  ----                             -------
  Normal  Scheduled  19s   default-scheduler                Successfully assigned default/busybox3 to k8s-node-1.example.com
  Normal  Pulled     17s   kubelet, k8s-node-1.example.com  Container image "busybox:1.28" already present on machine
  Normal  Created    17s   kubelet, k8s-node-1.example.com  Created container busybox1
  Normal  Started    16s   kubelet, k8s-node-1.example.com  Started container busybox1
  Normal  Pulled     16s   kubelet, k8s-node-1.example.com  Container image "busybox:1.28" already present on machine
  Normal  Created    16s   kubelet, k8s-node-1.example.com  Created container busybox2
  Normal  Started    15s   kubelet, k8s-node-1.example.com  Started container busybox2
  Normal  Pulled     15s   kubelet, k8s-node-1.example.com  Container image "busybox:1.28" already present on machine
  Normal  Created    15s   kubelet, k8s-node-1.example.com  Created container busybox3
  Normal  Started    15s   kubelet, k8s-node-1.example.com  Started container busybox3
mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$


ahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$ cat multi-container.yaml
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: busybox3
  name: busybox3
spec:
  containers:
  - args:
    - bin/sh
    - -c
    - sleep 3600; ls
    image: busybox:1.28
    name: busybox1
  - args:
    - bin/sh
    - -c
    - sleep 3600; echo "Hello Word";
    image: busybox:1.28
    name: busybox2
  - args:
    - bin/sh
    - -c
    - sleep 3600; echo "this is the third pod";
    image: busybox:1.28
    name: busybox3
  restartPolicy: Never
mahsan@k8s-master:~/project/k8-repo/techcode/projects/ckad/Q-ckad/Multi-Container-Pods$

